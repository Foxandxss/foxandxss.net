/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
CKEDITOR.plugins.add("devtools",{lang:["en","bg","cs","cy","da","de","el","eo","et","fa","fi","fr","gu","he","hr","it","nb","nl","no","pl","pt-br","tr","ug","uk","vi","zh-cn"],init:function(e){e._.showDialogDefinitionTooltips=1},onLoad:function(){CKEDITOR.document.appendStyleText(CKEDITOR.config.devtools_styles||"#cke_tooltip { padding: 5px; border: 2px solid #333; background: #ffffff }#cke_tooltip h2 { font-size: 1.1em; border-bottom: 1px solid; margin: 0; padding: 1px; }#cke_tooltip ul { padding: 0pt; list-style-type: none; }")}}),function(){function e(e,t,n,r){var i=e.lang.devTools,s='<a href="http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.dialog.definition.'+(n?n.type=="text"?"textInput":n.type:"content")+'.html" target="_blank">'+(n?n.type:"content")+"</a>",o="<h2>"+i.title+"</h2>"+"<ul>"+"<li><strong>"+i.dialogName+"</strong> : "+t.getName()+"</li>"+"<li><strong>"+i.tabName+"</strong> : "+r+"</li>";return n&&(o+="<li><strong>"+i.elementId+"</strong> : "+n.id+"</li>"),o+="<li><strong>"+i.elementType+"</strong> : "+s+"</li>",o+"</ul>"}function t(e,t,r,i,s,o){var u=t.getDocumentPosition(),a={"z-index":CKEDITOR.dialog._.currentZIndex+10,top:u.y+t.getSize("height")+"px"};n.setHtml(e(r,i,s,o)),n.show();if(r.lang.dir=="rtl"){var f=CKEDITOR.document.getWindow().getViewPaneSize();a.right=f.width-u.x-t.getSize("width")+"px"}else a.left=u.x+"px";n.setStyles(a)}var n;CKEDITOR.on("reset",function(){n&&n.remove(),n=null}),CKEDITOR.on("dialogDefinition",function(r){var i=r.editor;if(i._.showDialogDefinitionTooltips){n||(n=CKEDITOR.dom.element.createFromHtml('<div id="cke_tooltip" tabindex="-1" style="position: absolute"></div>',CKEDITOR.document),n.hide(),n.on("mouseover",function(){this.show()}),n.on("mouseout",function(){this.hide()}),n.appendTo(CKEDITOR.document.getBody()));var s=r.data.definition.dialog,o=i.config.devtools_textCallback||e;s.on("load",function(){var e=s.parts.tabs.getChildren(),r;for(var u=0,a=e.count();u<a;u++)r=e.getItem(u),r.on("mouseover",function(){var e=this.$.id;t(o,this,i,s,null,e.substring(4,e.lastIndexOf("_")))}),r.on("mouseout",function(){n.hide()});s.foreach(function(e){if(e.type in{hbox:1,vbox:1})return;var r=e.getElement();r&&(r.on("mouseover",function(){t(o,this,i,s,e,s._.currentTabId)}),r.on("mouseout",function(){n.hide()}))})})}})}();