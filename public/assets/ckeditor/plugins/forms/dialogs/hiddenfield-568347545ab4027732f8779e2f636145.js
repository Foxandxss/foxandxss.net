/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
CKEDITOR.dialog.add("hiddenfield",function(e){return{title:e.lang.hidden.title,hiddenField:null,minWidth:350,minHeight:110,onShow:function(){var e=this;delete e.hiddenField;var t=e.getParentEditor(),n=t.getSelection(),r=n.getSelectedElement();r&&r.data("cke-real-element-type")&&r.data("cke-real-element-type")=="hiddenfield"&&(e.hiddenField=r,r=t.restoreRealElement(e.hiddenField),e.setupContent(r),n.selectElement(e.hiddenField))},onOk:function(){var e=this,t=e.getValueOf("info","_cke_saved_name"),n=e.getValueOf("info","value"),r=e.getParentEditor(),i=!CKEDITOR.env.ie||CKEDITOR.document.$.documentMode>=8?r.document.createElement("input"):r.document.createElement('<input name="'+CKEDITOR.tools.htmlEncode(t)+'">');i.setAttribute("type","hidden"),e.commitContent(i);var s=r.createFakeElement(i,"cke_hidden","hiddenfield");return e.hiddenField?(s.replace(e.hiddenField),r.getSelection().selectElement(s)):r.insertElement(s),!0},contents:[{id:"info",label:e.lang.hidden.title,title:e.lang.hidden.title,elements:[{id:"_cke_saved_name",type:"text",label:e.lang.hidden.name,"default":"",accessKey:"N",setup:function(e){this.setValue(e.data("cke-saved-name")||e.getAttribute("name")||"")},commit:function(e){this.getValue()?e.setAttribute("name",this.getValue()):e.removeAttribute("name")}},{id:"value",type:"text",label:e.lang.hidden.value,"default":"",accessKey:"V",setup:function(e){this.setValue(e.getAttribute("value")||"")},commit:function(e){this.getValue()?e.setAttribute("value",this.getValue()):e.removeAttribute("value")}}]}]}});